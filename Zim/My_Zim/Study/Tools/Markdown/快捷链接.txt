Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2018-11-22T17:17:24+08:00

====== å¿«æ·é“¾æ¥ ======
Created Thursday 22 November 2018

ä» 0 åˆ° 1 å†™ä¸€ä¸ª Alfred Workflow
10æœˆ29æ—¥
bite bite
å†™ä½œæ—¶ç»å¸¸éœ€è¦ç»™å‡ºå¼•ç”¨æ¥æºï¼Œæ¯æ¬¡éƒ½éœ€è¦å¾’æ‰‹å»å¤åˆ¶ç½‘é¡µæ ‡é¢˜å’Œ URL ç„¶åå†æ‹¼æˆ Markdown æ ¼å¼ï¼Œå®åœ¨æ˜¯å¤ªç¹çäº†ï¼Œæ‰€ä»¥æˆ‘åœ¨æƒ³æ˜¯ä¸æ˜¯å¯ä»¥ç®€åŒ–ä¸€ä¸‹ï¼Ÿç»è¿‡ä¸€ç•ªæŠ˜è…¾åï¼Œæˆ‘å‘ç°é€šè¿‡ Alfred çš„ Workflow åŠŸèƒ½å¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

ä½ å¯ä»¥é€šè¿‡è¿™ä¸ª é“¾æ¥ å…ˆä¸‹è½½è¯•ç”¨è¿™ä¸ª Alfred Workflowã€‚

è§£å†³æ€è·¯
å…ˆåˆ©ç”¨ Alfred çš„ Snippet ä½œä¸º Triggersï¼ˆè§¦å‘å™¨ï¼‰ï¼Œæ¥è°ƒç”¨ AppleScript è·å–å½“å‰ç½‘é¡µæ ‡é¢˜å’Œ URLï¼Œç„¶åä»¥ Markdown æ ¼å¼ç²˜è´´åˆ°æ–‡æœ¬ä¸­ã€‚

Workflow é›å½¢

Triggers: Snippet
Snippet æ˜¯ã€Œå¿«æ·çŸ­è¯­ã€ï¼Œå¦‚æœå°†å®ƒä½œä¸ºè§¦å‘å™¨ï¼Œåœ¨æ‰“å­—è¾“å…¥æŒ‡å®šçŸ­è¯­åä¼šç«‹åˆ»æ‰§è¡Œåç»­åŠ¨ä½œã€‚åœ¨è¿™é‡Œæˆ‘å°†çŸ­è¯­è®¾ç½®ä¸º urlï¼Œç”¨æ¥è§¦å‘åç»­çš„åŠ¨ä½œ Run Scriptã€‚

åœ¨ Snippet è¿™ä¸ªè§¦å‘å™¨ä¸­ï¼Œé»˜è®¤å‰ç¼€è®¾ç½®ä¸º \\ï¼Œé‚£ä¹ˆå½“ä½ éœ€è¦è§¦å‘çŸ­è¯­æ—¶ï¼Œå°±éœ€è¦åœ¨ä½ è®¾ç½®çš„çŸ­è¯­å‰åŠ ä¸Šè¿™ä¸ªå‰ç¼€ï¼Œæ¯”å¦‚åœ¨è¿™ä¸ª Workflow ä¸­æˆ‘éœ€è¦è¾“å…¥ \\url æ‰ä¼šæˆåŠŸè§¦å‘ä¸‹ä¸€ä¸ªåŠ¨ä½œã€‚

è‡³äºä¸ºä»€ä¹ˆç”¨ Snippet Trigger å˜›ï¼Œå› ä¸ºå¯ä»¥çœå»ä½¿ç”¨å¿«æ·é”®å”¤å‡º Alfred è¿™ä¸€æ­¥ï¼Œè¿™æ ·ä¸€æ¥å°±ä¸ä¼šæ‰“æ–­å†™ä½œè¿‡ç¨‹äº†ã€‚

Actions: Run Script
å‚è€ƒ Alfred å®˜æ–¹è®ºå›ä¸Šçš„ è¿™ç¯‡æ–‡ç« ï¼Œå¹¶ç¨ä½œä¿®æ”¹ï¼Œå¯ä»¥å®ç°çš„åŠŸèƒ½æ˜¯è·å–æµè§ˆå™¨æœ€è¿‘æ´»è·ƒæ ‡ç­¾é¡µçš„æ ‡é¢˜å’Œ URLã€‚å°†ä¸‹é¢çš„ä»£ç å¡«å…¥åˆ° Run Script çš„ç›¸åº”åŒºåŸŸä¸­ï¼Œç¬¬äºŒæ­¥å°±å®Œæˆäº†ã€‚

set browser to do shell script "export VERSIONER_PERL_PREFER_32_BIT=yes; perl -MMac::InternetConfig -le 'print +(GetICHelper \"http\")[1]'"

if (browser = "Google Chrome") or (browser = "Google Chrome Canary") or (browser = "Chromium") or (browser = "Opera") or (browser = "Vivaldi") then
    using terms from application "Google Chrome"
        tell application browser to set currentTabTitle to title of active tab of front window
        tell application browser to set currentTabUrl to URL of active tab of front window
    end using terms from
else if (browser = "Safari") or (browser = "Safari Technology Preview") or (browser = "Webkit") then
    using terms from application "Safari"
        tell application browser to set currentTabTitle to name of front document
        tell application browser to set currentTabUrl to URL of front document
    end using terms from
else
    return browser
end if

return "[" & currentTabTitle & "](" & currentTabUrl & ")"
Outputs: Copy to Clipboard
æœ€åä¸€æ­¥æ˜¯ Copy to Clipboardï¼ŒæŠŠç»“æœæ”¾åˆ°å‰ªè´´æ¿é‡Œã€‚å½“ä½ æƒ³åœ¨ç¼–è¾‘å™¨ä¸­æ’å…¥å¼•ç”¨æ¥æºæ—¶ï¼Œåªéœ€æŒ‰ä¸‹ âŒ˜Command-V ç²˜è´´å³å¯ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ Alfred é‡Œè®¾ç½®ã€Œè‡ªåŠ¨ç²˜è´´åˆ°æœ€å‰é¢çš„åº”ç”¨ã€ï¼Œè¿™æ ·è¿ âŒ˜Command-V éƒ½çœäº†ã€‚

å¦å¤–ï¼ŒCopy to Clipboard è¿™ä¸ªåŠ¨ä½œè¿˜å¯ä»¥å°†å¤åˆ¶çš„é¡¹ç›®æ ‡è®°ä¸ºã€Œtransientã€ï¼Œè¿™æ ·ä¸€æ¥å®ƒå°±ä¸ä¼šã€Œæ²¾æŸ“ã€å‰ªè´´æ¿å†…å®¹ã€‚

å¦‚æœä½ å¸Œæœ›è¿™ä¸ª Workflow ç›´æ¥å°†é“¾æ¥ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­ï¼Œå¹¶ä¸”ä¸è¦å½±å“ä½ çš„å‰ªè´´æ¿ï¼Œé‚£ä¹ˆä¸¤ä¸ªé€‰æ¡†éƒ½æ‰“å‹¾å³å¯ï¼š

Copy to Clipboard é…ç½®é¡¹

å…ˆåœ¨ iA Writer ä¸Šæµ‹è¯•ï¼Œé€šè¿‡ ğŸ‰ã€‚

iA Writer

ä½†åœ¨ Ulysses ä¸Šæµ‹è¯•å¤±è´¥äº†ï¼Œå› ä¸ºå®ƒä¸â½€æŒç›´æ¥è¾“â¼Š Markdown æ ¼å¼çš„é“¾æ¥ã€‚

Ulysses

å‡çº§æ–¹æ¡ˆ
Ulysses çš„å…¼å®¹æ€§
Ulysses ä¸ºå…¼å®¹ Markdown æä¾›äº† Paste from Markdown åŠŸèƒ½ï¼Œâ½½ä¸”æœ‰å¿«æ·é”® âŒ¥Alt-âŒ˜Command-V ï¼Œè¿™æ ·å°±å¯ä»¥â¾ƒåŠ¨åŒ–äº†ã€‚AppleScript è„šæœ¬å¦‚ä¸‹ï¼š

tell application "System Events" to key code 9 using {option down, command down}
å¢åŠ æµç¨‹æ§åˆ¶
å› ä¸ºåœ¨ä¸åŒçš„ç¼–è¾‘å™¨ä¸­éœ€è¦æ‰§â¾çš„åŠ¨ä½œæœ‰å·®å¼‚ï¼Œæ‰€ä»¥éœ€è¦åœ¨ Workï¬‚ow ä¸­è¿›è¡Œåˆ¤æ–­ã€‚é€šè¿‡æŸ¥é˜… Alfred â½‚æ¡£ï¼Œ æˆ‘å‘ç° Filter Utility å¯ä»¥æ‹¿æ¥â¼€â½¤ã€‚åŒæ ·â¾®å¸¸ç®€å•ï¼Œæ”¹è¿›åçš„æµç¨‹å›¾å¦‚ä¸‹ï¼š

workflow 2.0

æ©™â¾Šå°±æ˜¯ Ulysses çš„ä¸“å±â½€çº¿äº†ã€‚ä¸¤ä¸ªâ¼©æ¼â½ƒï¼ˆFilterï¼‰å°±ç›¸å½“äº if è¯­å¥ï¼Œæ©™è‰² Filter é…ç½®å¦‚ä¸‹ï¼š

Filter é…ç½®é¡¹

ç­‰â¼€ä¸‹ï¼Œä¸Šå›¾ä¸­çš„ {var:editor} æ˜¯ä»€ä¹ˆï¼Ÿ 

å…¶å®å®ƒæ˜¯ Focused App Variableï¼ˆç„¦ç‚¹è½¯ä»¶å˜é‡ï¼‰ï¼Œéœ€è¦åœ¨ Triggers: Snippet ä¸­è¿›â¾é…ç½®ã€‚å®ƒçš„å€¼å°±æ˜¯å½“å‰å…·æœ‰ç„¦ç‚¹çš„ App çš„ bundle idã€‚

Snippet é…ç½®é¡¹

é‚£ com.soulmen.ulysses-setapp â¼œæ˜¯ä»€ä¹ˆï¼Ÿ

å°±æ˜¯ Setapp ä¸­çš„ Ulysses çš„ bundle id å•¦ã€‚å…¶ä»–ç‰ˆæœ¬ Ulysses çš„ bundle id å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤å¾—åˆ°ï¼š

osascript -e 'id of app "Ulysses"'
æµ‹è¯•
å°† Ulysses çš„ Paste from Markdown è„šæœ¬æ·»åŠ åˆ° Ulysses ä¸“å±â½€çº¿çš„æœ€åä¸€æ­¥åï¼Œè¿™ä¸ªå‡çº§ç‰ˆçš„ Alfred Workflow å°±å¤§åŠŸå‘Šæˆäº†ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ åœ¨æ™®é€šç¼–è¾‘å™¨ä¸Šç›´æ¥è¿è¡Œè¯¥ Workflow æ—¶ï¼Œä¼šç›´æ¥ç²˜è´´æ ‡å‡† Markdown æ ¼å¼ä¸‹çš„é“¾æ¥ï¼Œå½“ä½ åœ¨ Ulysses ä¸Šè¿è¡Œè¯¥ Workflow æ—¶ï¼Œä¼šè§¦å‘ Paste from Markdown åŠŸèƒ½ï¼Œå°†æ ‡å‡† Markdown æ ¼å¼ä¸‹çš„é“¾æ¥è½¬æ¢ä¸º Ulysses è‡ªå·±çš„æ ¼å¼ã€‚

Ulysses



PS
çœ‹åˆ°æœ‰ä¸å°‘åé¦ˆ Ulysses å…¼å®¹æ€§é—®é¢˜ï¼Œæ›´æ–°äº†ä¸€ä¸ªç‰ˆæœ¬ï¼šä¸‹è½½ã€‚
è¿™ä¸ªç‰ˆæœ¬æ”¹åŠ¨è¾ƒå¤§ï¼Œæ”¯æŒäº† Evernote/Scapple/Notes è¿™ç±»åªå…è®¸å¤æ–‡æœ¬é“¾æ¥çš„ç¼–è¾‘å™¨ã€‚
https://sspai.com/post/47710
