Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2017-12-11T16:33:13+08:00

====== 3.安装后的首次设定 ======
Created Monday 11 December 2017


一切都没有问题就按下[Enter]吧！此时grub就会去读取核心档案来进行硬件侦测，并载入适当的硬件驱动程序后， 就开始进行CentOS各项服务的启动了。下图中箭头有指到/vmlinuz-2.6.18-128.el5吧？那就是我们的Linux核心档案啦！ 至於出现Welcome字样后，就是开始执行各项服务的流程了。

{{./开机过程的核心侦测与服务启动.jpg}}
开机过程的核心侦测与服务启动


新主机仅有一颗硬盘
如果你的系统是新的，并且想要安装多重操作系统时，那么这个多重操作系统的安装将显的很简单啊！ 假设以目前主流的160GB硬盘作为规划好了，而你想要有WindowsXP, WindowsXP的数据碟, Linux, Swap及一个共用分割槽， 那我们首先来规划一下硬盘分割吧！如果是这样的需求，那你可以这样规划：

__Linux装置档名	Windows装置	实际内容		档案系统	容量(GB)__
__/dev/sda1	C		Windows系统		NTFS		30__
__/dev/sda2	D		Windows数据碟		NTFS		60__
__/dev/sda3	不要挂载	Linux根目录(/)		Ext3		50__
__/dev/sda5	不要挂载	内存置换空间swap	swap		1__
__/dev/sda6	E		Windows/Linux共用	vfat		其他所有__
接下来就是系统的安装了！安装一定要先装WindowsXP再装Linux才好！顺序搞错了会很麻烦喔！ 基本上，你可以这样安装：

安装CentOS 5.x
再来则是安装Linux罗，安装时要注意的地方也是在分割的地方，请回到前一小节的磁碟分割部分来进行分割设定。另外一个要注意的地方则是在开机管理程序的地方， 同样回到前一小节看一下开机管理程序是如何指定开机选单的！ 尤其是『预设开机』项目，是预设要Windows还是Linux开机呢？这需要你的选择喔！而且__grub务必要安装到MBR上头。__ 

后续维护的注意事项
多重开机设定完毕后请特别注意， 
__(1)Windows的环境中最好将Linux的根目录与swap取消挂载，否则未来你打开档案总管时， 该软件会要求你『格式化！』如果一个不留神，你的Linux系统就毁了。__ 
__(2)你的Linux不可以随便的删除！ 因为grub会去读取Linux根目录下的/boot/目录内容，如果你将Linux移除了，你的Windows也就无法开机了！ 因为整个开机选单都会不见喔！__
旧主机有两颗以上硬盘
如果你的主机上面已经有Windows了，为了担心与Linux冲突，所以你想要加装一颗新的硬盘来安装Linux，这样好吗？ 也是不错的想法啦！不过你得要注意的是，整部个人计算机仅会有一个MBR而已！虽然你有两颗硬盘。

为什么有两颗硬盘却只有一个MBR呢？因为你得在BIOS里面调整开机的装置，只有第一个可开机装置内的MBR会被系统主动读取。 所以罗，理论上，你不会将Windows的开机管理程序安装到/dev/sda而将Linux安装到/dev/sdb上头， 而是得要将grub安装到/dev/sda上，透过他来管理Windows/Linux才行，即使你的Linux是放到/dev/sdb这颗硬盘上面的。

比较聪明的朋友会想到『我可以调整BIOS内的开机装置，使得要进入不同的操作系统时，就用不同的开机装置来开机， 如此一来应该就能够避免将grub安装到/dev/sda了吧？』这个想法本身是OK的，只不过， 因为SATA的装置档名是利用侦测的顺序来决定的，所以你如果这样调整来调整去的话， 你的SATA装置档名可能会产生不同，这对於linux的运作会有问题，因此如果这样随时调整BIOS时， 可能还是会造成无法开机成功的问题！

所以鸟哥还是建议BIOS内的开机顺序不要改变，然后以grub来控制全部的开机选单较佳！ 不过，如果你觉得grub不是这么好用，那怎办？没关系，你可以使用spfdisk这个国人写的开机管理程序来管理喔！ 如果你真的想要使用spfdisk来管理开机选单的话，那你在安装Linux的时候，记得将grub安装到开机磁区(boot sector)， 然后重新开机进入Windows后，以spfdisk来设定正确的开机选单即可。spfdisk的官网与鸟哥之前写的教学文章可以参考：

spfdisk官网：http://spfdisk.sourceforge.net/
鸟哥的spfdisk教学：http://cn.linux.vbird.org/linux_basic/0140spfdisk.php
旧主机只有一颗硬盘
如果你想要在你的Windows主机上面多加一个Linux操作系统呢？那就得要注意啦！ 因为Windows/Linux不能共存在同一个partition上！而Linux的根目录最好使用Ext3这种Linux支援的档案系统。 所以，你就得要清出来一个空的分割槽给Linux使用才行喔。

举例来说，如果你的系统只有C槽，那能不能安装Linux呢？很抱歉！没办法！如果你的系统有C与D槽， 但是你又想要保留一个数据槽给Windows使用，那你就得要这样做：

先将D槽的数据搬移出来，不论是搬到随身碟还是C槽中暂存；
在Windows的逻辑分割管理员中，将D槽删除并重建成两个分割槽，一个是D一个是E；
将D槽格式化为NTFS(或FAT32)，然后将刚刚的备份数据搬回D槽去；
E槽不要挂载，这是Linux预计要安装的系统槽。
这种情况是比较麻烦啦，因为数据需要搬来搬去的，需要很注意移动的过程喔！ 否则，很容易将自己好几年辛苦工作的数据一不小心的全部删除！那就欲哭无泪了！

