<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>模板</title>
</head><body>WXML提供模板（template），可以在模板中定义代码片段，然后在不同的地方调用。<br/>
<br/>
<span style="color: #ff0000">使用 name 属性，作为模板的名字。然后在 &lt;template/&gt; 内定义代码片段</span>，如：<br/>
<br/>
代码清单2-16 定义模板<br/>
<br/>
&lt;template name="msgItem"&gt;<br/>
&nbsp; &lt;view&gt;<br/>
&nbsp; &nbsp; &lt;text&gt; {{index}}: {{msg}} &lt;/text&gt;<br/>
&nbsp; &nbsp; &lt;text&gt; Time: {{time}} &lt;/text&gt;<br/>
&nbsp; &lt;/view&gt;<br/>
&lt;/template&gt;<br/>
<br/>
<span style="color: #ff0000">使用 is 属性，声明需要的使用的模板</span>，然后将模板所需要的 data 传入，如代码2-17所示。<hr/>//index.js<br/>
<br/>
Page({<br/>
&nbsp; data: {<br/>
&nbsp; &nbsp; <span style="color: #ff0000">item: {<br/>
</span><span style="color: #ff0000">&nbsp; &nbsp; &nbsp; index: 0,<br/>
&nbsp; &nbsp; &nbsp; msg: 'this is a template',<br/>
&nbsp; &nbsp; &nbsp; time: '2016-06-18'<br/>
</span><span style="color: #ff0000">&nbsp; &nbsp; }</span><br/>
&nbsp; }<br/>
})<hr/><br/>
代码清单2-17 模板使用示例<br/>
<br/>
&lt;!--<br/>
<span style="color: #ff0000">item: {<br/>
&nbsp; index: 0,<br/>
&nbsp; msg: 'this is a template',<br/>
&nbsp; time: '2016-06-18'<br/>
</span><span style="color: #ff0000">}</span><br/>
--&gt;<br/>
<hr/><span style="color: #ff0000">&lt;!-- &nbsp;index.wxml --&gt;</span><br/>
<br/>
&lt;template name="msgItem"&gt;<br/>
&nbsp; &lt;view&gt;<br/>
&nbsp; &nbsp; &lt;text&gt; {{index}}: {{msg}} &lt;/text&gt;<br/>
&nbsp; &nbsp; &lt;text&gt; Time: {{time}} &lt;/text&gt;<br/>
&nbsp; &lt;/view&gt;<br/>
&lt;/template&gt;<br/>
<br/>
<br/>
&lt;template is="msgItem" data="{{...item}}"/&gt;<br/>
<br/>
&lt;!-- <span style="color: #ff0000">输出:</span><br/>
0: this is a template Time: 2016-06-18<br/>
--&gt;<br/>
<br/>
<span style="color: #ff0000">&lt;!-- index.wxml end --&gt;</span><hr/><span style="color: #ff0000">is可以动态决定具体需要渲染哪个模板</span>，如代码2-18所示。<br/>
<br/>
代码清单2-18 动态使用模板<br/>
<br/>
&lt;template name="odd"&gt;<br/>
&nbsp; &lt;view&gt; odd &lt;/view&gt;<br/>
&lt;/template&gt;<br/>
<br/>
<br/>
&lt;template name="even"&gt;<br/>
&nbsp; &lt;view&gt; even &lt;/view&gt;<br/>
&lt;/template&gt;<br/>
<br/>
<br/>
&lt;block wx:for="{{[1, 2, 3, 4, 5]}}"&gt;<br/>
&nbsp; &lt;template is="{{item % 2 == 0 ? 'even' : 'odd'}}"/&gt;<br/>
&lt;/block&gt;<br/>
<br/>
<br/>
<br/>
&lt;!-- 输出<br/>
odd<br/>
even<br/>
odd<br/>
even<br/>
odd<br/>
--&gt;<hr/><span style="color: #ff0000">imrdr:</span><br/>
<br/>
&lt;template name="odd"&gt;<br/>
&nbsp; &lt;view&gt; odd &lt;/view&gt;<br/>
&lt;/template&gt;<br/>
<br/>
&lt;template name="even"&gt;<br/>
&nbsp; &lt;view&gt; even &lt;/view&gt;<br/>
&lt;/template&gt;<br/>
<br/>
<br/>
&lt;block wx:for="{{[1, 2, 3, 4, 5]}}"&gt;<br/>
&nbsp; &lt;template is="{{item % 2 == 0 ? 'even' : 'odd'}}"/&gt;<br/>
&lt;/block&gt;<br/>
<span style="color: #ff0000">&lt;!-- 以上定义全部都在 wxml 文件内，不用往其他文件当中定义什么什么。 --&gt;</span><hr/><br/>
<br/>
</body></html>