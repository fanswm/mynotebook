<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>编译WXSS</title>
</head><body>from <a href="https://developers.weixin.qq.com/ebook?action=get_post_info&token=935589521&volumn=1&lang=zh_CN&book=miniprogram&docid=0006ca569f43d8cb0086824b15180a&pass_ticket=CZtoFnIgy1o4sM4K%2FKU5q6iUYk89wZrgwmACm7IKQENuJLQCtn6SITW1J1y9v3%2B8">developers.weixin.qq.com</a>:<br/>
<span style="color: #ff0000">WXSS (WeiXin Style Sheets)</span>&nbsp;是一套样式语言，用来<span style="color: #ff0000">决定 WXML 的组件应该怎么显示</span>。为了适应广大的前端开发者，WXSS <span style="color: #ff0000">具有 CSS 大部分特性</span>。同时为了更适合开发微信小程序，WXSS 对 CSS 进行了<span style="color: #ff0000">扩充以及修改</span>。<br/>
<br/>
与 CSS 相比，WXSS 扩展的一些特性，<span style="color: #ff0000">包括rpx尺寸单位和样式导入语法</span>，这些特性都是WebView无法直接理解的。<br/>
微信开发者工具内置了一个二进制的WXSS编译器，这个编译器接受WXSS文件列表，分析文件之间的引用关系，同时预处理rpx，输出一个<span style="color: #ff0000">样式信息数组</span>，如图10-4，<span style="color: #ff0000">每个WXSS文件对应于这个数组中的一项。</span><br/>
<br/>
<img src="screenshot.png" /><br/>
<br/>
图9-4 WXSS的编译过程<br/>
<br/>
在运行时，根据当前的屏幕宽度，计算出1rpx对应多少像素单位，然后将样式信息数组转换成最终的样式添加到页面中。<br/>
由于样式在微信客户端存在兼容性问题，为了方便开发者，微信开发者工具提供了上传代码时样式自动补全的功能，利用<span style="color: #ff0000">PostCSS 对WXSS文件进行预处理，自动添加样式前缀。</span><br/>
</body></html>