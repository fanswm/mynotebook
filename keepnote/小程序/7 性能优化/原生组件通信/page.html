<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>原生组件通信</title>
</head><body>一些原生组件支持使用 <span style="color: #ff0000">context </span>来<span style="color: #ff0000">更新组件</span>。<br/>
<br/>
不同于setData，<span style="color: #ff0000">使用context来更新组件并不会涉及到重渲染过程</span>，数据通信过程也不同。<br/>
<br/>
<span style="color: #ff0000">在setData的数据通信流程中，</span><br/>
数据从逻辑层经过native层转发，传入视图层的WebView，再经过一系列渲染步骤之后传入组件。<br/>
<br/>
<span style="color: #ff0000">而使用context时，</span><br/>
数据从逻辑层传到native层后，直接传入组件中，这样可以显著降低传输延迟。<br/>
<br/>
<img src="screenshot.png" /><br/>
<br/>
图7-9 setData与contex<span style="color: #ff0000">t对比时序图（上setData，下context）</span><br/>
<br/>
在具体通信过程上，因为context的方法繁多，<span style="color: #ff0000">通信方式相对于setData更复杂</span>。不过基础库会对context方法调用时的通信进行封装优化，<span style="color: #ff0000">通常开发者不需要关心这个问题。</span><br/>
<br/>
最后一次编辑于 &nbsp;2019年08月19日 &nbsp;（未经腾讯允许，不得转载）</body></html>