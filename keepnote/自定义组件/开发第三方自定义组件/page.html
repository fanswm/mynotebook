<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>开发第三方自定义组件</title>
</head><body>开发第三方自定义组件<br/>
小程序从基础库版本 2.2.1 开始支持<span style="color: #ff0000">使用 npm 安装第三方包</span>，因此也支持<span style="color: #ff0000">开发和使用第三方自定义组件包</span>。关于 npm 功能的详情可先阅读[相关文档]((npm 支持))。<br/>
<br/>
准备<br/>
开发一个开源的自定义组件包给他人使用，首先需要明确他人是要如何使用这个包的，如果只是拷贝小程序目录下直接使用的话，可以跳过此文档。此文档中后续内容是<span style="color: #ff0000">以 npm 管理自定义组件包的前提</span>下进行说明的。<br/>
<br/>
在开发之前，要求开发者具有基础的 node.js 和 npm 相关的知识，同时需要准备好支持 npm 功能的开发者工具，点此下载。<br/>
<br/>
下载模板<br/>
<br/>
为了方便开发者能够快速搭建好一个可用于开发、调试、测试的自定义组件包项目，官方提供了一个<span style="color: #ff0000">项目模板</span>，下载使用模板的方式有三种：<br/>
<br/>
直接从 github 上下载 zip 文件并解压。<br/>
直接将 github 上的仓库 clone 下来。<br/>
使用官方提供的命令行工具初始化项目，下面会进行介绍。<br/>
<br/>
项目模板中的构建是<span style="color: #ff0000">基于 gulp + webpack 来执行的</span>，支持开发、构建、测试等命令，详情可参阅项目模板的 README.md 文件。<br/>
<br/>
<span style="color: #ff0000">命令行工具</span><br/>
官方提供了命令行工具，用于快速初始化一个项目。执行如下命令安装命令行工具：<br/>
<br/>
<span style="color: #ff0000">npm install -g @wechat-miniprogram/miniprogram-cli<br/>
</span><br/>
然后新建一个空目录作为项目根目录，在此根目录下执行：<br/>
<br/>
<span style="color: #ff0000">miniprogram init --type custom-component<br/>
</span><br/>
命令执行完毕后会发现项目根目录下生成了许多文件，这是根据官方的项目模板生成的完整项目，之后开发者可直接在此之上进行开发修改。<br/>
<br/>
命令行工具的更多用法可以查看 github 仓库上的 README.md 文件。<br/>
<br/>
PS：第一次使用 miniprogram init 初始化项目会去 github 上拉取模板，因此需要保证网络畅通。<br/>
<br/>
测试工具<br/>
针对自定义组件的单元测试，可参阅文档单元测试。<br/>
<br/>
自定义组件示例<br/>
以下为官方提供的自定义组件，可以参考并使用：<br/>
<br/>
weui-miniprogram<br/>
recycle-view<br/>
自定义组件扩展示例<br/>
以下为官方提供的自定义组件扩展，可以参考并使用：<br/>
<br/>
computed</body></html>