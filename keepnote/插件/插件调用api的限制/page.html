<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>插件调用API的限制 </title>
</head><body>插件调用 API 的限制<br/>
插件可以调用的 API 与小程序不同，主要有两个区别：<br/>
<br/>
插件的请求域名列表与小程序相互独立；<br/>
一些 API 不允许插件调用（这些函数不存在于 wx 对象下）。<br/>
有些接口虽然在插件中不能使用，但可以通过插件功能页来达到目的，请参考插件功能页。<br/>
<br/>
目前，允许插件调用的 API 及其对应版本要求如下：<br/>
<br/>
基础<br/>
API&#09;最低版本&#09;备注<br/>
wx.arrayBufferToBase64&#09;&#09;<br/>
wx.base64ToArrayBuffer&#09;&#09;<br/>
发起请求<br/>
API&#09;最低版本&#09;备注<br/>
wx.request&#09;1.9.6&#09;<br/>
上传、下载<br/>
API&#09;最低版本&#09;备注<br/>
wx.downloadFile&#09;1.9.6&#09;<br/>
wx.uploadFile&#09;1.9.6&#09;<br/>
WebSocket<br/>
API&#09;最低版本&#09;备注<br/>
wx.connectSocket&#09;1.9.6&#09;<br/>
图片<br/>
API&#09;最低版本&#09;备注<br/>
wx.previewImage&#09;1.9.6&#09;<br/>
wx.chooseImage&#09;1.9.6&#09;<br/>
wx.getImageInfo&#09;1.9.6&#09;<br/>
wx.saveImageToPhotosAlbum&#09;1.9.6&#09;<br/>
录音<br/>
API&#09;最低版本&#09;备注<br/>
wx.startRecord&#09;1.9.6&#09;<br/>
wx.stopRecord&#09;1.9.6&#09;<br/>
实时音视频<br/>
API&#09;最低版本&#09;备注<br/>
wx.createLivePlayerContext&#09;1.9.6&#09;<br/>
wx.createLivePusherContext&#09;1.9.6&#09;<br/>
录音管理<br/>
API&#09;最低版本&#09;备注<br/>
wx.getRecorderManager&#09;1.9.94&#09;<br/>
音频播放控制<br/>
API&#09;最低版本&#09;备注<br/>
wx.pauseVoice&#09;1.9.6&#09;<br/>
wx.playVoice&#09;1.9.6&#09;<br/>
wx.stopVoice&#09;1.9.6&#09;<br/>
音乐播放控制<br/>
API&#09;最低版本&#09;备注<br/>
wx.onBackgroundAudioPlay&#09;1.9.6&#09;<br/>
wx.getBackgroundAudioPlayerState&#09;1.9.6&#09;<br/>
wx.onBackgroundAudioStop&#09;1.9.6&#09;<br/>
wx.stopBackgroundAudio&#09;1.9.6&#09;<br/>
wx.onBackgroundAudioPause&#09;1.9.6&#09;<br/>
wx.seekBackgroundAudio&#09;1.9.6&#09;<br/>
wx.playBackgroundAudio&#09;1.9.6&#09;<br/>
wx.pauseBackgroundAudio&#09;1.9.6&#09;<br/>
背景音频播放管理<br/>
API&#09;最低版本&#09;备注<br/>
wx.getBackgroundAudioManager&#09;1.9.6&#09;<br/>
音频组件控制<br/>
API&#09;最低版本&#09;备注<br/>
wx.createInnerAudioContext&#09;1.9.6&#09;<br/>
wx.createAudioContext&#09;1.9.6&#09;<br/>
视频<br/>
API&#09;最低版本&#09;备注<br/>
wx.chooseVideo&#09;1.9.6&#09;<br/>
wx.saveVideoToPhotosAlbum&#09;1.9.6&#09;<br/>
视频组件控制<br/>
API&#09;最低版本&#09;备注<br/>
wx.createVideoContext&#09;1.9.6&#09;<br/>
相机组件控制<br/>
API&#09;最低版本&#09;备注<br/>
wx.createCameraContext&#09;1.9.6&#09;<br/>
数据缓存<br/>
API&#09;最低版本&#09;备注<br/>
wx.setStorage&#09;1.9.6&#09;<br/>
wx.getStorage&#09;1.9.6&#09;<br/>
wx.removeStorage&#09;1.9.6&#09;<br/>
wx.setStorageSync&#09;1.9.6&#09;<br/>
wx.getStorageSync&#09;1.9.6&#09;<br/>
wx.removeStorageSync&#09;1.9.6&#09;<br/>
获取位置<br/>
API&#09;最低版本&#09;备注<br/>
wx.getLocation&#09;1.9.6&#09;<br/>
wx.chooseLocation&#09;1.9.6&#09;<br/>
wx.onLocationChange&#09;2.8.0&#09;<br/>
wx.offLocationChange&#09;2.9.1&#09;<br/>
wx.stopLocationUpdate&#09;2.8.0&#09;<br/>
wx.startLocationUpdate&#09;2.8.0&#09;<br/>
查看位置<br/>
API&#09;最低版本&#09;备注<br/>
wx.openLocation&#09;1.9.6&#09;<br/>
地图组件控制<br/>
API&#09;最低版本&#09;备注<br/>
wx.createMapContext&#09;1.9.6&#09;<br/>
系统信息<br/>
API&#09;最低版本&#09;备注<br/>
wx.getSystemInfoSync&#09;1.9.6&#09;<br/>
wx.getSystemInfo&#09;1.9.6&#09;<br/>
屏幕亮度<br/>
API&#09;最低版本&#09;备注<br/>
wx.setKeepScreenOn&#09;1.9.6&#09;<br/>
wx.setScreenBrightness&#09;1.9.6&#09;<br/>
wx.getScreenBrightness&#09;1.9.6&#09;<br/>
用户截屏事件<br/>
API&#09;最低版本&#09;备注<br/>
wx.onUserCaptureScreen&#09;1.9.6&#09;仅限插件页面中调用<br/>
wx.offUserCaptureScreen&#09;2.9.1&#09;仅限插件页面中调用<br/>
振动<br/>
API&#09;最低版本&#09;备注<br/>
wx.vibrateLong&#09;1.9.6&#09;<br/>
wx.vibrateShort&#09;1.9.6&#09;<br/>
手机联系人<br/>
API&#09;最低版本&#09;备注<br/>
wx.addPhoneContact&#09;1.9.6&#09;<br/>
NFC<br/>
API&#09;最低版本&#09;备注<br/>
wx.sendHCEMessage&#09;2.1.0&#09;<br/>
wx.stopHCE&#09;2.1.0&#09;<br/>
wx.onHCEMessage&#09;2.1.0&#09;<br/>
wx.offHCEMessage&#09;2.9.1&#09;<br/>
wx.startHCE&#09;2.1.0&#09;<br/>
wx.getHCEState&#09;2.1.0&#09;<br/>
网络状态<br/>
API&#09;最低版本&#09;备注<br/>
wx.onNetworkStatusChange&#09;1.9.6&#09;<br/>
wx.offNetworkStatusChange&#09;2.9.1&#09;<br/>
wx.getNetworkType&#09;1.9.6&#09;<br/>
加速度计<br/>
API&#09;最低版本&#09;备注<br/>
wx.startAccelerometer&#09;1.9.6&#09;<br/>
wx.stopAccelerometer&#09;1.9.6&#09;<br/>
wx.onAccelerometerChange&#09;1.9.6&#09;<br/>
wx.offAccelerometerChange&#09;2.9.1&#09;<br/>
设备方向<br/>
API&#09;最低版本&#09;备注<br/>
wx.startDeviceMotionListening&#09;2.9.1&#09;<br/>
wx.stopDeviceMotionListening&#09;2.9.1&#09;<br/>
wx.offDeviceMotionChange&#09;2.9.1&#09;<br/>
wx.onDeviceMotionChange&#09;2.9.1&#09;<br/>
陀螺仪<br/>
API&#09;最低版本&#09;备注<br/>
wx.startGyroscope&#09;2.9.1&#09;<br/>
wx.stopGyroscope&#09;2.9.1&#09;<br/>
wx.offGyroscopeChange&#09;2.9.1&#09;<br/>
wx.onGyroscopeChange&#09;2.9.1&#09;<br/>
罗盘<br/>
API&#09;最低版本&#09;备注<br/>
wx.onCompassChange&#09;1.9.6&#09;<br/>
wx.offCompassChange&#09;2.9.1&#09;<br/>
wx.stopCompass&#09;1.9.6&#09;<br/>
wx.startCompass&#09;1.9.6&#09;<br/>
拨打电话<br/>
API&#09;最低版本&#09;备注<br/>
wx.makePhoneCall&#09;1.9.6&#09;<br/>
扫码<br/>
API&#09;最低版本&#09;备注<br/>
wx.scanCode&#09;1.9.6&#09;<br/>
剪贴板<br/>
API&#09;最低版本&#09;备注<br/>
wx.setClipboardData&#09;1.9.6&#09;<br/>
wx.getClipboardData&#09;1.9.6&#09;<br/>
蓝牙<br/>
API&#09;最低版本&#09;备注<br/>
wx.writeBLECharacteristicValue&#09;1.9.6&#09;<br/>
wx.startBluetoothDevicesDiscovery&#09;1.9.6&#09;<br/>
wx.getConnectedBluetoothDevices&#09;1.9.6&#09;<br/>
wx.notifyBLECharacteristicValueChange&#09;1.9.6&#09;<br/>
wx.onBluetoothDeviceFound&#09;1.9.6&#09;<br/>
wx.offBluetoothDeviceFound&#09;2.9.1&#09;<br/>
wx.readBLECharacteristicValue&#09;1.9.6&#09;<br/>
wx.openBluetoothAdapter&#09;1.9.6&#09;<br/>
wx.getBLEDeviceCharacteristics&#09;1.9.6&#09;<br/>
wx.stopBluetoothDevicesDiscovery&#09;1.9.6&#09;<br/>
wx.onBLEConnectionStateChange&#09;1.9.6&#09;<br/>
wx.getBluetoothDevices&#09;1.9.6&#09;<br/>
wx.getBluetoothAdapterState&#09;1.9.6&#09;<br/>
wx.onBluetoothAdapterStateChange&#09;1.9.6&#09;<br/>
wx.offBluetoothAdapterStateChange&#09;2.9.1&#09;<br/>
wx.getBLEDeviceServices&#09;1.9.6&#09;<br/>
wx.onBLECharacteristicValueChange&#09;1.9.6&#09;<br/>
wx.offBLECharacteristicValueChange&#09;2.9.1&#09;<br/>
wx.createBLEConnection&#09;1.9.6&#09;<br/>
wx.closeBluetoothAdapter&#09;1.9.6&#09;<br/>
wx.closeBLEConnection&#09;1.9.6&#09;<br/>
wx.notifyBLECharacteristicValueChange&#09;1.9.6&#09;<br/>
wx.onBLEConnectionStateChange&#09;1.9.6&#09;<br/>
wx.offBLEConnectionStateChange&#09;2.9.1&#09;<br/>
iBeacon<br/>
API&#09;最低版本&#09;备注<br/>
wx.getBeacons&#09;1.9.6&#09;<br/>
wx.startBeaconDiscovery&#09;1.9.6&#09;<br/>
wx.onBeaconServiceChange&#09;1.9.6&#09;<br/>
wx.offBeaconServiceChange&#09;2.9.1&#09;<br/>
wx.onBeaconUpdate&#09;1.9.6&#09;<br/>
wx.offBeaconUpdate&#09;2.9.1&#09;<br/>
wx.stopBeaconDiscovery&#09;1.9.6&#09;<br/>
Wi-Fi<br/>
API&#09;最低版本&#09;备注<br/>
wx.connectWifi&#09;2.9.1&#09;<br/>
wx.getConnectedWifi&#09;2.9.1&#09;<br/>
wx.getWifiList&#09;2.9.1&#09;<br/>
wx.offGetWifiList&#09;2.9.1&#09;<br/>
wx.offWifiConnected&#09;2.9.1&#09;<br/>
wx.onEvaluateWifi&#09;2.9.1&#09;<br/>
wx.onGetWifiList&#09;2.9.1&#09;<br/>
wx.onWifiConnected&#09;2.9.1&#09;<br/>
wx.presetWifiList&#09;2.9.1&#09;<br/>
wx.setWifiList&#09;2.9.1&#09;<br/>
wx.startWifi&#09;2.9.1&#09;<br/>
wx.stopWifi&#09;2.9.1&#09;<br/>
交互反馈<br/>
API&#09;最低版本&#09;备注<br/>
wx.hideLoading&#09;1.9.6&#09;<br/>
wx.showActionSheet&#09;1.9.6&#09;<br/>
wx.showLoading&#09;1.9.6&#09;<br/>
wx.hideToast&#09;1.9.6&#09;<br/>
wx.showToast&#09;1.9.6&#09;<br/>
wx.showModal&#09;1.9.6&#09;<br/>
设置导航条<br/>
API&#09;最低版本&#09;备注<br/>
wx.showNavigationBarLoading&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.hideNavigationBarLoading&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.setNavigationBarColor&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.setNavigationBarTitle&#09;2.1.0&#09;仅限插件页面中调用<br/>
背景<br/>
API&#09;最低版本&#09;备注<br/>
wx.setBackgroundColor&#09;2.4.0&#09;仅限插件页面中调用<br/>
wx.setBackgroundTextStyle&#09;2.4.0&#09;仅限插件页面中调用<br/>
WXML节点信息<br/>
API&#09;最低版本&#09;备注<br/>
wx.createSelectorQuery&#09;1.9.6&#09;<br/>
WXML节点布局相交状态<br/>
API&#09;最低版本&#09;备注<br/>
wx.createIntersectionObserver&#09;1.9.6&#09;<br/>
导航<br/>
API&#09;最低版本&#09;备注<br/>
wx.navigateBack&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.navigateTo&#09;2.2.2&#09;仅限插件页面中调用<br/>
wx.redirectTo&#09;2.2.2&#09;仅限插件页面中调用<br/>
wx.switchTab&#09;2.3.1&#09;仅限插件页面中调用<br/>
wx.reLaunch&#09;2.3.1&#09;仅限插件页面中调用<br/>
动画<br/>
API&#09;最低版本&#09;备注<br/>
wx.createAnimation&#09;1.9.6&#09;<br/>
位置<br/>
API&#09;最低版本&#09;备注<br/>
wx.pageScrollTo&#09;2.1.0&#09;仅限插件页面中调用<br/>
绘图<br/>
API&#09;最低版本&#09;备注<br/>
&lt;!--&#09;wx.drawCanvas&#09;1.9.6<br/>
wx.createOffscreenCanvas&#09;2.7.1&#09;<br/>
wx.canvasPutImageData&#09;1.9.6&#09;<br/>
wx.canvasToTempFilePath&#09;1.9.6&#09;<br/>
wx.createCanvasContext&#09;1.9.6&#09;<br/>
wx.canvasGetImageData&#09;1.9.6&#09;<br/>
下拉刷新<br/>
API&#09;最低版本&#09;备注<br/>
wx.stopPullDownRefresh&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.startPullDownRefresh&#09;2.1.0&#09;仅限插件页面中调用<br/>
当前帐号信息<br/>
API&#09;最低版本&#09;备注<br/>
wx.getAccountInfoSync&#09;2.2.2&#09;<br/>
转发<br/>
API&#09;最低版本&#09;备注<br/>
wx.hideShareMenu&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.getShareInfo&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.showShareMenu&#09;2.1.0&#09;仅限插件页面中调用<br/>
wx.updateShareMenu&#09;2.1.0&#09;仅限插件页面中调用<br/>
其他<br/>
API&#09;最低版本&#09;备注<br/>
wx.getSetting&#09;2.6.3&#09;<br/>
wx.openSetting&#09;2.10.3&#09;<br/>
wx.reportAnalytics&#09;1.9.6&#09;见下方备注<br/>
登录和获取用户信息<br/>
这一组接口仅限在用户信息功能页中获得用户授权之后调用。否则将返回 fail 。详见 用户信息功能页 。<br/>
<br/>
API&#09;最低版本&#09;备注<br/>
wx.login&#09;2.3.1&#09;<br/>
wx.getUserInfo&#09;2.3.1&#09;<br/>
Bugs &amp; Tips<br/>
wx.reportAnalytics 可以被正常调用，但目前不会进行统计展示。</body></html>