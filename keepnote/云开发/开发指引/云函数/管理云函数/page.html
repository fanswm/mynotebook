<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>管理云函数</title>
</head><body>在开发者工具中管理云函数<br/>
<span style="color: #ff0000">配置云函数本地目录</span><br/>
在项目根目录中可以使用<span style="color: #ff0000">&nbsp;project.config.json 文件，在其中定义 cloudfunctionRoot 字段</span>，<span style="color: #ff0000">指定本地已存在的目录作为云函数的本地根目录</span>。<br/>
<br/>
<span style="color: #ff0000">云函数操作</span><br/>
在云函数根目录或者云函数目录上，通过鼠标右键，我们可以唤出右键菜单，完成以下操作<br/>
<br/>
查看当前环境<br/>
切换环境<br/>
新建 Node.js 云函数<br/>
下载线上环境的云函数列表<br/>
下载线上环境的云函数代码并覆盖本地<br/>
<span style="color: #ff0000">对比本地代码和线上环境的代码</span><br/>
上传并部署云函数到线上环境<br/>
查看和切换环境<br/>
<br/>
在云函数根目录上右键，在右键菜单中，可以查看当前对应的环境，同时可以切换环境，之后的所有右键菜单都是在这个环境下进行操作<br/>
<br/>
<span style="color: #ff0000">新建 Node.js 云函数</span><br/>
在云函数根目录上右键，在右键菜单中，可以选择创建一个新的 Node.js 云函数，开发者工具在本地创建出以下目录和文件，同时在线上环境中创建出对应的云函数：<br/>
<br/>
<span style="color: #ff0000">云函数目录</span>：以云函数名字命名的目录，存放该云函数的所有代码<br/>
<span style="color: #ff0000">index.js：云函数入口文件，云函数被调用时实际执行的入口函数是 index.js 中导出的 main 方法</span><br/>
package.json：npm 包定义文件，其中默认定义了最新 wx-server-sdk 依赖<br/>
<br/>
在创建成功后，工具会提示<span style="color: #ff0000">是否为该云函数立即安装本地依赖即 wx-server-sdk</span>，如是，则工具会开启终端执行 npm install<br/>
<br/>
<span style="color: #ff0000">下载云函数列表</span><br/>
在云函数根目录上右键，在右键菜单中，我们可以将线上环境中的云函数列表同步到本地，开发者工具会根据云函数的名字，在本地中创建出对应的云函数目录<br/>
<br/>
<span style="color: #ff0000">下载云函数</span><br/>
在一个云函数目录上右键可以在菜单中选择下载该云函数，云函数代码会被下载到指定目录。<br/>
<br/>
上传并部署<br/>
在云函数目录上右键，在右键菜单中，我们可以将云函数整体打包上传并部署到线上环境中<br/>
<br/>
更多设置<br/>
我们通过右键菜单的 “更多设置” 可以进入云函数的沉浸式交互场景，在这个场景里可以完成以上所有的云函数操作，在云目录上按 ctrl 可以进行多选批量操作<br/>
<br/>
<br/>
<br/>
在下个章节，我们一起看看如何在开发云函数时进行测试、查看日志、以及查看监控。</body></html>