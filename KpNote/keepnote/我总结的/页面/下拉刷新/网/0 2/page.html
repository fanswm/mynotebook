<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>0</title>
</head><body>微信小程序：enablePullDownRefresh、onReachBottomDistance 、动态设置窗口的背景色、动态设置下拉背景字体<br/>
一、enablePullDownRefresh<br/>
<br/>
1、下拉刷新enablePullDownRefresh的支持<br/>
<br/>
单页面配置json文件<br/>
<br/>
{<br/>
&nbsp; &nbsp;"enablePullDownRefresh": true<br/>
}<br/>
<br/>
复制代码<br/>
app.json配置（所有页面都带有下拉刷新功能）<br/>
<br/>
{<br/>
&nbsp; &nbsp; "window": {<br/>
&nbsp; &nbsp; &nbsp; &nbsp; "enablePullDownRefresh": true<br/>
&nbsp; &nbsp; }<br/>
}<br/>
复制代码<br/>
2、设置backgroundTextStyle 大家会发现别人的小程序下拉刷新是有三个点闪烁的动画、自己设置的并没有。这里面有个设置backgroundTextStyle的支持:<br/>
<br/>
<br/>
&nbsp; &nbsp; "backgroundTextStyle": ""，支持 dark/light<br/>
复制代码<br/>
3、停止stopPullDownRefresh<br/>
<br/>
微信小程序还提供了停止下拉刷新的API: developers.weixin.qq.com/miniprogram…<br/>
<br/>
&nbsp;wx.stopPullDownRefresh()<br/>
复制代码<br/>
二、onReachBottomDistance上拉触底<br/>
<br/>
1、页面上拉触底事件触发时距页面底部距离，单位为px。 （单页面json配置，app.json的window配置中配置 全部页面的上拉触底）<br/>
<br/>
&nbsp;"onReachBottomDistance": 50//默认值是50<br/>
复制代码<br/>
2、在Page.onReachBottom里面进行渲染数据及查看<br/>
<br/>
&nbsp; /**<br/>
&nbsp; &nbsp;* 页面上拉触底事件的处理函数<br/>
&nbsp; &nbsp;*/<br/>
&nbsp; onReachBottom: function () {<br/>
&nbsp; &nbsp; console.log("页面上拉触底事件的处理函数")<br/>
&nbsp; },<br/>
复制代码<br/>
三、动态设置下拉背景字体、loading 图的样式<br/>
<br/>
wx.setBackgroundTextStyle({<br/>
&nbsp; textStyle: 'dark' // 下拉背景字体、loading 图的样式为dark<br/>
})<br/>
复制代码<br/>
四、动态设置窗口的背景色<br/>
<br/>
wx.setBackgroundColor({<br/>
&nbsp; backgroundColor: '#ffffff', // 窗口的背景色为白色<br/>
})<br/>
&lt;!--兼容ios--&gt;<br/>
wx.setBackgroundColor({<br/>
&nbsp; &nbsp; backgroundColorTop: '#DC143C', // 顶部窗口的背景色为红<br/>
&nbsp; &nbsp; backgroundColorBottom: '#00FA9A', // 底部窗口的背景色为绿<br/>
})</body></html>