<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>模块化</title>
</head><body>浏览器中，所有 JavaScript 是在运行在同一个作用域下的，定义的参数或者方法可以被后续加载的脚本访问或者改写。<br/>
<br/>
<span style="color: #ff0000">同浏览器不同，小程序中可以将任何一个JavaScript 文件作为一个模块，通过module.exports 或者 exports 对外暴露接口。</span><br/>
<br/>
请看是一个简单模块示例，B.js 引用模块A，并使用A暴露的multiplyBy2方法完成一个变量乘以 2 的操作。<br/>
<br/>
<span style="color: #ff0000">代码清单2-26 模块示例</span><br/>
<br/>
// moduleA.js<br/>
module.exports = function( value ){<br/>
&nbsp; return value * 2;<br/>
}<br/>
<br/>
<span style="color: #ff0000">代码清单2-27 引用模块A</span><br/>
<br/>
// B.js<br/>
<br/>
// 在B.js中引用模块A<br/>
var multiplyBy2 = require('./moduleA')<br/>
var result = multiplyBy2(4)<br/>
<br/>
<span style="color: #ff0000">代码清单2-28 在需要使用这些模块的文件中，使用 require(path) 将公共代码引入</span><br/>
<br/>
var common =<span style="color: #ff0000">&nbsp;require('common.js')</span><br/>
Page({<br/>
&nbsp; helloMINA: function() {<br/>
&nbsp; &nbsp; common.sayHello('MINA')<br/>
&nbsp; },<br/>
&nbsp; goodbyeMINA: function() {<br/>
&nbsp; &nbsp; common.sayGoodbye('MINA')<br/>
&nbsp; }<br/>
})</body></html>