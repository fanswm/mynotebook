<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>2 页面构造器Page()</title>
</head><body>宿主环境提供了 Page() 构造器用来注册一个小程序页面，<br/>
<span style="color: #ff0000">Page()在页面脚本page.js中调用，Page() 的调用方式如代码清单3-8所示</span>。Page构造器接受一个Object参数，参数说明如表3-4所示，<br/>
<br/>
<span style="color: #ff0000"><b>其中data属性是当前页面WXML模板中可以用来做数据绑定的初始数据</b></span>，我们会在后文展开讨论；<br/>
<br/>
onLoad / onReady / onShow / onHide /onUnload 5个回调是Page实例的生命周期函数，我们在后文展开；<br/>
onPullDownRefresh / onReachBottom / onShareAppMessage / onPageScroll 4个回调是页面的用户行为，我们也会在后文展开。<br/>
<br/>
代码清单3-8 Page构造器<br/>
<br/>
<span style="color: #ff0000">Page({<br/>
&nbsp; data:&#09;&#09; { text: "This is page data." },<br/>
&nbsp; onLoad: &#09;function(options) { },<br/>
&nbsp; onReady:&#09; function() { },<br/>
&nbsp; onShow: &#09;function() { },<br/>
&nbsp; onHide:&#09; function() { },<br/>
&nbsp; onUnload:&#09; function() { },<br/>
&nbsp; onPullDownRefresh: &#09;function() { },<br/>
&nbsp; onReachBottom: &#09;&#09;function() { },<br/>
&nbsp; onShareAppMessage:&#09;function () { },<br/>
&nbsp; onPageScroll: &#09;&#09;&#09;function() { }<br/>
})<br/>
</span><br/>
表3-4 Page构造器的参数<br/>
<br/>
参数属性&#09;类型&#09;&#09;描述<br/>
data&#09;&#09;&#09;&#09;Object&#09;&#09;页面的初始数据<br/>
onLoad&#09;&#09;&#09;&#09;Function&#09;生命周期函数--监听页面<span style="color: #ff0000">加载，触发时机早于onShow和onReady</span><br/>
onReady&#09;&#09;&#09;Function&#09;生命周期函数--监听页面<span style="color: #ff0000">初次渲染完成</span><br/>
onShow&#09;&#09;&#09;&#09;Function&#09;生命周期函数--监听页面<span style="color: #ff0000">显示，触发事件早于onReady</span><br/>
onHide&#09;&#09;&#09;&#09;Function&#09;生命周期函数--监听页面<span style="color: #ff0000">隐藏</span><br/>
onUnload&#09;&#09;&#09;Function&#09;生命周期函数--监听页面<span style="color: #ff0000">卸载</span><br/>
onPullDownRefresh&#09;Function&#09;页面相关事件处理函数--监听<span style="color: #ff0000">用户下拉动作</span><br/>
onReachBottom&#09;&#09;Function&#09;<span style="color: #ff0000">页面上拉触底事件</span>的处理函数<br/>
onShareAppMessage&#09;Function&#09;用户<span style="color: #ff0000">点击右上角转发</span><br/>
onPageScroll&#09;&#09;Function&#09;<span style="color: #ff0000">页面滚动触发事件</span>的处理函数<br/>
其他&#09;&#09;&#09;&#09;Any&#09;&#09;&#09;可以添加<span style="color: #ff0000">任意的函数或数据</span>，<span style="color: #ff0000">在Page实例的其他函数中用 this 可以访问</span><br/>
</body></html>