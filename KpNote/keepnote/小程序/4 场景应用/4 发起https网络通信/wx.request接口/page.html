<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>wx.request接口</title>
</head><body>如果我们需要从 https://test.com/getinfo 接口拉取用户信息，其代码示例如下所示，详细参数如表4-1所示。<br/>
<br/>
代码清单4-7 <span style="color: #ff0000">wx.request调用示例</span><br/>
<br/>
wx.request({<br/>
<br/>
&nbsp; url: 'https://test.com/getinfo',<br/>
<br/>
&nbsp; success: function(res) {<br/>
<br/>
&nbsp; &nbsp; console.log(res)// 服务器回包信息<br/>
<br/>
&nbsp; }<br/>
<br/>
})<br/>
<br/>
表4-1<span style="color: #ff0000">&nbsp;wx.request详细参数</span><br/>
<br/>
<span style="color: #ff0000">参数名&#09;&#09;类型&#09;&#09;&#09;必填&#09;默认值&#09;描述</span><br/>
url&#09;&#09;&#09;String&#09;&#09;&#09;是&#09;&#09;&#09;&#09;开发者服务器接口地址<br/>
data&#09;&#09;Object/String&#09;否&#09;&#09;&#09;&#09;请求的参数<br/>
header&#09;&#09;Object&#09;&#09;&#09;否&#09;&#09;&#09;&#09;设置请求的 header，header 中不能设置 Referer，<span style="color: #ff0000">默认header['content-type'] = 'application/json'</span><br/>
method&#09;&#09;String&#09;&#09;&#09;否&#09;&#09;GET&#09;&#09;（需大写）有效值：OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT<br/>
dataType&#09;String&#09;&#09;&#09;否&#09;&#09;json&#09;回包的内容格式，如果设为json，会尝试对返回的数据做一次 JSON解析<br/>
success&#09;&#09;Function&#09;&#09;否&#09;&#09;&#09;&#09;收到开发者服务成功返回的回调函数，其参数是一个Object，见表4-2。<br/>
fail&#09;&#09;&#09;Function&#09;&#09;否&#09;&#09;&#09;&#09;接口调用失败的回调函数<br/>
complete&#09;Function&#09;&#09;否&#09;&#09;&#09;&#09;接口调用结束的回调函数（调用成功、失败都会执行）</body></html>