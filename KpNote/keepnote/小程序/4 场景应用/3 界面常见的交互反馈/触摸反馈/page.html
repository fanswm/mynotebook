<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>触摸反馈</title>
</head><body>通常页面会摆放一些<span style="color: #ff0000">button按钮或者view区域</span>，用户触摸按钮之后会触发下一步的操作。这种情况下，我们<span style="color: #ff0000">要对触摸这个行为给予用户一些响应</span>。如图4-17所示，当我们手指触摸了button文字所在的cell区域时，对应的区域底色变成浅灰色，这样用户就可以知道<span style="color: #ff0000">小程序是有及时响应他的这次触摸操作</span>，<span style="color: #ff0000">用户就不会很迷惑</span>。<br/>
<br/>
<img src="screenshot.png" /><br/>
<br/>
​ 图4-17 触摸区域底色变成灰色响应用户的触摸操作<br/>
<br/>
小程序的<span style="color: #ff0000">view容器组件和button组件</span>提供了<span style="color: #ff0000">hover-class</span>属性，触摸时<span style="color: #ff0000">会往该组件加上对应的class</span>改变组件的样式。<br/>
<br/>
代码清单4-1 通过hover-class属性改变触摸时的样式<br/>
<br/>
/*page.wxss */<br/>
<br/>
.hover{<br/>
<br/>
&nbsp; background-color: gray;<br/>
<br/>
}<br/>
<br/>
<br/>
<br/>
&lt;!--page.wxml --&gt;<br/>
<br/>
&lt;button hover-class="hover"&gt; 点击button &lt;/button&gt;<br/>
<br/>
&lt;view hover-class="hover"&gt; 点击view&lt;/view&gt;<br/>
<br/>
<span style="color: #ff0000">对于用户的操作及时响应是非常优秀的体验</span>，有时候在点击button按钮处理<span style="color: #ff0000">更耗时的操作时，我们也会使用button组件的loading属性</span>，在按钮的文字前边出现一个Loading，<span style="color: #ff0000">让用户明确的感觉到，这个操作会比较耗时</span>，需要等待一小段时间。<br/>
<br/>
<br/>
<br/>
​ 图4-18 button文字前出现loading<br/>
<br/>
代码清单4-2 设置button的loading属性<br/>
<br/>
&lt;!--page.wxml --&gt;<br/>
<br/>
&lt;button<span style="color: #ff0000">&nbsp;loading="{{loading}}</span>" bindtap="tap"&gt;操作&lt;/button&gt;<br/>
<br/>
<br/>
<br/>
//page.js<br/>
<br/>
Page({<br/>
<br/>
&nbsp; data: { loading: false },<br/>
<br/>
&nbsp; tap: function() {<br/>
<br/>
&nbsp; &nbsp; // 把按钮的loading状态显示出来<br/>
<br/>
&nbsp; &nbsp; <span style="color: #ff0000">this.setData({<br/>
</span><span style="color: #ff0000"><br/>
&nbsp; &nbsp; &nbsp; loading: true<br/>
<br/>
&nbsp; &nbsp; })<br/>
</span><br/>
&nbsp; &nbsp; // 接着做耗时的操作<br/>
<br/>
&nbsp; }<br/>
<br/>
})</body></html>