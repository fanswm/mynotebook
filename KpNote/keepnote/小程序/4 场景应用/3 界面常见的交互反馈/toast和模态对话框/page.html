<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Toast和模态对话框</title>
</head><body>在完成某个操作成功之后，我们希望<span style="color: #ff0000">告诉用户这次操作成功并且不打断用户接下来的操作</span>。弹出式提示Toast就是用在这样的场景上，<span style="color: #ff0000">Toast提示默认1.5秒后自动消失</span>，其表现形式如图4-19所示。<br/>
<br/>
<img src="screenshot.png" /><br/>
<br/>
​ 图4-19 Toast弹出式提示<br/>
<br/>
小程序提供了显示<span style="color: #ff0000">隐藏Toast的接口</span>，代码示例如下所示。<br/>
<br/>
代码清单4-3 显示/隐藏Toast<br/>
<br/>
Page({<br/>
<br/>
&nbsp; onLoad: function() {<br/>
<br/>
&nbsp; &nbsp; wx.showToast({ <span style="color: #ff0000">// 显示Toast</span><br/>
<br/>
&nbsp; &nbsp; &nbsp; title: '已发送',<br/>
<br/>
&nbsp; &nbsp; &nbsp; icon: 'success',<br/>
<br/>
&nbsp; &nbsp; &nbsp; duration: 1500&#09;//持续时间<br/>
<br/>
&nbsp; &nbsp; })<br/>
<br/>
&nbsp; &nbsp; // wx.hideToast() // 隐藏Toast<br/>
<br/>
&nbsp; }<br/>
<br/>
})<br/>
<br/>
特别要注意，我们<span style="color: #ff0000">不应该把Toast用于错误提示</span>，因为<span style="color: #ff0000">错误提示需要明确告知用户具体原因</span>，因此不适合用<span style="color: #ff0000">这种一闪而过的Toast弹出式提示</span>。一般<span style="color: #ff0000">需要用户明确知晓操作结果状态的话</span>，会使用<span style="color: #ff0000">模态对话框</span>来提示，同时附带下一步操作的指引。<br/>
<br/>
<img src="screenshot 2.png" /><br/>
<br/>
​ 图4-20 模态对话框<br/>
<br/>
代码清单4-4<span style="color: #ff0000">&nbsp;显示模态对话框</span><br/>
<br/>
Page({<br/>
<br/>
&nbsp; onLoad: function() {<br/>
<br/>
&nbsp; &nbsp; wx.showModal({<br/>
&nbsp; &nbsp; &nbsp; title: '标题',<br/>
&nbsp; &nbsp; &nbsp; content: '告知当前状态，信息和解决方法',<br/>
&nbsp; &nbsp; &nbsp; confirmText: '主操作',<br/>
&nbsp; &nbsp; &nbsp; cancelText: '次要操作',<br/>
&nbsp; &nbsp; &nbsp; success: function(res) {<br/>
&nbsp; &nbsp; &nbsp; &nbsp; if (res.confirm) {<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log('用户点击主操作')<br/>
&nbsp; &nbsp; &nbsp; &nbsp; } else if (res.cancel) {<br/>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log('用户点击次要操作')<br/>
&nbsp; &nbsp; &nbsp; &nbsp; }<br/>
&nbsp; &nbsp; &nbsp; }<br/>
&nbsp; &nbsp; })<br/>
&nbsp; }<br/>
})</body></html>