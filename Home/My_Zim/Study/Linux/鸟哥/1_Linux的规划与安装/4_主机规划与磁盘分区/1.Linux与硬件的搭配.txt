Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2017-12-11T16:32:26+08:00

====== 1.Linux与硬件的搭配 ======
Created Monday 11 December 2017

1. Linux与硬件的搭配
　　1.1 认识计算机的硬件配备
　　1.2 选择与Linux搭配的主机配备： 硬件支持相关网站
　　1.3 各硬件装置在Linux中的档名
Linux与硬件的搭配
虽然个人计算机各组件的主要介面是大同小异的，包括前面第零章计算机概论讲到的种种介面等， 但是由於新的技术来得太快，Linux核心针对新硬件所纳入的驱动程序模块比不上硬件升级的速度， 加上硬件厂商针对Linux所推出的驱动程序较慢，因此你在选购新的个人计算机(或服务器)时， 应该要选择已经过安装Linux测试的硬件比较好。

此外，在安装Linux之前，你最好了解一下你的Linux预计是想达成什么任务，这样在选购硬件时才会知道那个组件是最重要的。 举例来说，壁纸计算机(Desktop)的使用者，应该会用到X Window系统， 此时，显卡的优劣与内存的大小可就占有很重大的影响。如果是想要做成文件服务器， 那么硬盘或者是其他的储存设备，应该就是您最想要增购的组件罗！所以说，功课还是需要作的啊！

鸟哥在这里要不厌其烦的再次的强调，Linux对於计算机各组件/装置的分辨， 与大家惯用的Windows系统完全不一样！因为，各个组件或装置在Linux底下都是『一个文件！』 这个观念我们在第一章Linux是什么里面已经提过， 这里我们再次的强调。因此，你在认识各项装置之后，学习Linux的装置档名之前， 务必要先将Windows对於装置名称的概念先拿掉～否则会很难理解喔！


认识计算机的硬件配备
『什么？学Linux还得要玩硬件？』呵呵！没错！ 这也是为什么鸟哥要将计算机概论搬上台面之故！ 我们这里主要是介绍较为普遍的个人计算机架构来配置Linux服务器，因为比较便宜啦！ 至於各相关的硬件组件说明已经在第零章计概内讲过了，这里不再重复说明。 仅将重要的主板与组件的相关性图示如下：

个人计算机各组件的相关性
图1.1.1、个人计算机各组件的相关性
(上述图示主要取自tom's硬件指南，各组件图片分属个别公司所有)
那么我们应该如何挑选计算机硬件呢？随便买买就好，还是有特殊的考量？底下有些思考角度可以提供给大家参考看看：


游戏机/工作机的考量
事实上，计算机主机的硬件配备与这部主机未来的功能是很有相关性的！举例来说，家里有小孩， 或者自己仍然算是小孩的朋友大概都知道：『要用来打Game的『游戏机计算机』 所需要的配备一定比办公室用的『工作机计算机』配备更高档』，为什么呢？ 因为现在一般的三维(3D)计算机游戏所需要的3D光影运算太多了，所以显卡与CPU资源都会被耗用的非常多！ 当然就需要比较高级的配备罗，尤其是在显卡、CPU(例如Intel的Core 2 Duo及AMD的Athlon64 X2等)及主板芯片组方面的功能。

至於办公室的工作环境中，最常使用到的软件大多是办公软件(Office)，最常使用的网络功能是浏览器， 这些软件所需要的运算并不高，理论上目前的入门级计算机都能够跑得非常顺畅了！(例如Intel Celeron及AMD的Sempron)。 甚至很多企业都喜欢购买将显卡、主板芯片组整合在一起的整合型芯片的计算机，因为便宜又好用！


效能/价格比的考量
并不是『贵就比较好』喔！在目前(2009)全球经济萧条的情况下，如何兼顾省钱与计算机硬件的效能问题，很重要！ 如果你喜欢购买最新最快的计算机零件，这些刚出炉的组件都非常的贵，而且操作系统还不见得能够完整的支持。 所以，鸟哥都比较喜欢购买主流级的产品而非最高档的。因为我们最好能够考虑到效能/价格比。 如果高一级的产品让你的花费多一倍，但是新添加的效能却只有10%而已，那这个效能/价格的比值太低，不建议啦！

此外，由於电价越来越高，如何『省电』就很重要啦！因此目前硬件评论界有所谓的『每瓦效能』的单位， 每瓦电力所发挥的效能越高，当然代表越省电啊！这也是购买硬件时的考量之一啦！要知道，如果是做为服务器用， 一年365天中时时刻刻都启动，则你的计算机多花费50瓦的电力时，每年就得要多花450度电左右，如果以企业来讲， 每百部计算机每年多花450度电的话，每年得多花十万块以上的电费呢！所以这也需要考量啊！


支持度的考量
并非所有的产品都会支持特定的操作系统，这牵涉到硬件开发商是否有意愿提供适当的驱动程序之故。 因此，当我们想要购买或者是升级某些计算机组件时，应该要特别注意该硬件是否有针对您的操作系统提供适当的驱动程序， 否则，买了无法使用，那才是叫人呕死啊！因此，针对Linux来说，底下的硬件分析就重要啦！

小标题的图示选择与Linux搭配的主机配备
由於硬件的加速发展与操作系统核心功能的增强，导致较早期的计算机已经没有能力再负荷新的操作系统了。 举例来说，Pentun-II以前的硬件配备可能已经不再适合现在的新的Linux distribution。 而且较早期的硬件配备也可能由於保存的问题或者是电子零件老化的问题， 导致这样的计算机系统反而非常容易在运行过程中出现不明的死机情况，因此在利用旧零件拼凑Linux使用的计算机系统时， 真的得要特别留意呢！

不过由於Linux运行所需要的硬件配备实在不需要太高档，因此，如果有近期汰换下来的， 比Pentun-III 500还要新的硬件配备， 不必急著丢弃。由於P-III的硬件不算太老旧，在效能方面其实也算的上非常OK了～所以， 鸟哥建议您如果有P-III以后等级的计算机被淘汰，可以拿下来测试一下，说不定能够作为你日常生活的Linux服务器， 或者是备用服务器，都是非常好用的功能哩！

但是由於不同的任务的主机所需要的硬件配备并不相同，举例来说，如果你的Linux主机是要作为企业内部的Mail server或者是Proxy server时，或者是需要使用到图形介面的运算(X Window内的Open GL等等功能)， 那么你就必须要选择高档一点的计算机配备了，使用过去的计算机零件可能并不适合呢。

底下我们稍微谈一下，如果你的Linux主要是作为小型服务器使用，并不负责学术方面的大量运算， 而且也没有使用X Window的图形介面，那你的硬件需求只要像底下这样就差不多了：

CPU
CPU只要不是老旧到会让你的硬件系统死机的都能够支持！如同前面谈到的，目前(2009)的环境中， Pentun-III的CPU不算太旧而且效能也不错，也就是说P-III就非常好用了。

RAM
主内存是越大越好！事实上在Linux服务器中，主内存的重要性比CPU还要高的多！因为如果主内存不够大， 就会使用到硬盘的内存置换空间(swap)。 而由计算机概论的内容我们知道硬盘比内存的速度要慢的多， 所以主内存太小可能会影响到整体系统的效能的！尤其如果你还想要玩X window的话，那主内存的容量就不能少。 对於一般的小型服务器来说，建议至少也要512MB以上的主内存容量较佳。

Hard Disk
由於数据量与数据存取频率的不同，对於硬盘的要求也不相同。 举例来说，如果是一般小型服务器，通常重点在於容量，硬盘容量大於20GB就够用到不行了！ 但如果你的服务器是作为备份或者是小企业的文件服务器，那么你可能就得要考量较高阶的磁盘阵列(RAID)模式了。
Tips:
磁盘阵列(RAID)是利用硬件技术将数个硬盘整合成为一个大硬盘的方法，操作系统只会看到最后被整合起来的大硬盘。 由於磁盘阵列是由多个硬盘组成，所以可以达成速度效能、备份等任务。更多相关的磁盘阵列我们会在第十五章中介绍的。	鸟哥的图示
VGA
对於不需要X Window的服务器来说，显卡算是最不重要的一个组件了！你只要有显卡能够让计算机启动，那就够了。 但如果需要X window系统时，你的显卡最好能够拥有32MB以上的内存容量，否则跑X系统会很累喔！ 鸟哥曾使用一块只有2MB内存的显卡跑X，光是按一个按钮就花费数分钟时间，真是折磨人家的耐心啊！

Network Interface Card
网络卡是服务器上面最重要的组件了！目前新式的主板大多拥有10/100/1000Mbps的高速网络，不过，老实说， 只要好一点的10/100网络卡就非常够用了！毕竟我们的频宽并没有大到Gigabit的速度！如果是小型服务器， 一块Realtek RTL8139芯片的网卡就非常好用了，不过，如果是读取非常频繁的网站， 好一点的Intel/3Com网卡应该是比较适合的喔。

光盘、软盘、键盘与鼠标
不要旧到你的计算机不支持就好了，因为这些配备都是非必备的喔！举例来说，鸟哥安装好Linux系统后， 可能就将该系统的光驱、鼠标、软盘机等通通拔除，只有网络线连接在计算机后面而已，其他的都是透过网络连线来管控的哩！ 因为通常服务器这东西最需要的就是稳定，而稳定的最理想状态就是平时没事不要去动他是最好的。
底下鸟哥针对一般你可能会接触到的计算机主机的用途与相关硬件配备的基本要求来说明一下好了：

一般小型主机且不含X Window系统：
用途：家庭用NAT主机(IP分享器功能)或小型企业之非图形介面小型主机。
CPU：大於P-III 500以上等级即可。
RAM：至少128MB，不过还是大於256MB以上比较妥当！
网络卡：一般的10/100 Mbps即可应付。
显卡：只要能够被Linux捉到的显卡即可，例如NVidia或ATI的主流显卡均可。
硬盘：20GB以上即可！

__桌上型(Desktop)Linux系统/含X Window：__
__用途：Linux的练习机或办公室(Office)工作机。(一般我们会用到的环境)__
__CPU：最好等级高一点，例如P-4以上等级。__
__RAM：一定要大於512MB比较好！否则容易有图形介面停顿的现象。__
__网络卡：普通的10/100 Mbps就好了！__
__显卡：使用32MB以上内存的显卡！__
__硬盘：越大越好，最好有60GB。__

中型以上Linux服务器：
用途：中小型企业/学校单位的FTP/mail/WWW等网络服务主机。
CPU：最好等级高一点，可以考虑使用双核心系统。
RAM：最好能够大於1GB以上，大於4GB更好！
网络卡：知名的3Com或Intel等厂牌，比较稳定效能较佳！也可选购10/100/1000 Mbps的速度。
显卡：如果有使用到图形功能，则一张64MB内存的显卡是需要的！
硬盘：越大越好，如果可能的话，使用磁盘阵列，或者网络硬盘等等的系统架构， 能够具有更稳定安全的传输环境，更佳！
建议企业用计算机不要自行组装，可购买商用服务器较佳， 因为商用服务器已经通过制造商的散热、稳定度等测试，对於企业来说，会是一个比较好的选择。
总之，鸟哥在这里仅是提出一个方向：如果你的Linux主机是小型环境使用的，即时死机也不太会影响到企业环境的运行时， 那么使用升级后被淘汰下来的零件以组成计算机系统来运行，那是非常好的回收再利用的案例。 但如果你的主机系统是非常重要的，你想要更一部更稳定的Linux服务器，那考虑系统的整体搭配与运行效能的考量， 购买已组装测试过的商用服务器会是一个比较好的选择喔！

Tips:
一般来说，目前(2009)的入门计算机机种，CPU至少都是Intel Core的2GHz系列的等级以上， 主内存至少有1GB，显卡内存也有128MB以上，所以如果您是新购置的计算机， 那么该计算机用来作为Linux的练习机，而且加装X Window系统，肯定是可以跑的吓吓叫的啦！^_^	鸟哥的图示
此外，Linux开发商在释出Linux distribution之前，都会针对该版所默认可以支持的硬件做说明， 因此，你除了可以在Linux的Howto文件去查询硬件的支持度之外，也可以到各个相关的Linux distributions网站去查询呢！ 底下鸟哥列出几个常用的硬件与Linux distributions搭配的网站，建议大家想要了解你的主机支不支持该版Linux时， 务必到相关的网站去搜寻一下喔！

Red Hat的硬件支持：https://hardware.redhat.com/?pagename=hcl
Open SuSE的硬件支持：http://en.opensuse.org/Hardware?LANG=en_UK
Mandriva的硬件支持：http://hcl.mandriva.com/
Linux对笔记本计算机的支持：http://www.linux-laptop.net/
Linux对打印机的支持：http://www.openprinting.org/
显卡对XFree86/Xorg的支持：http://www.linuxhardware.org/
Linux硬件支持的中文HowTo：http://www.linux.org.tw/CLDP/HOWTO/hardware.html#hardware
总之，如果是自己维护的一个小网站，考虑到经济因素，你可以自行组装一部主机来架设。 而如果是中、大型企业，那么主机的钱不要省～因为，省了这些钱，未来主机挂点时， 光是要找出哪个组件出问题，或者是系统过热的问题，会气死人ㄟ！ 而且，要注意的就是未来你的Linux主机规划的『用途』来决定你的Linux主机硬件配备喔！相当的重要呢！

__各硬件装置在Linux中的档名__
选择好你所需要的硬件配备后，接下来得要了解一下各硬件在Linux当中所扮演的角色罗。 这里鸟哥再次的强调一下：『在Linux系统中，每个装置都被当成一个文件来对待』 举例来说，IDE介面的硬盘的文件名称即为/dev/hd[a-d]，其中， 括号内的字母为a-d当中的任意一个，亦即有/dev/hda, /dev/hdb, /dev/hdc, 及 /dev/hdd这四个文件的意思。

Tips:
这种中括号[]型式的表示法在后面的章节当中会使用得很频繁，请特别留意

另外先提出来强调一下，在Linux这个系统当中，几乎所有的硬件装置文件都在/dev这个目录内， 所以你会看到/dev/hda, /dev/fd0等等的档名喔。	鸟哥的图示
那么打印机与软盘呢？分别是/dev/lp0, /dev/fd0罗！好了，其他的周边设备呢？ 底下列出几个常见的装置与其在Linux当中的档名罗：

__装置			装置在Linux内的档名__
__IDE硬盘机		/dev/hd[a-d]__
__SCSI/SATA/U盘硬盘机	/dev/sd[a-p]__
__U盘快闪碟		/dev/sd[a-p](与SATA相同)__
__软盘机			/dev/fd[0-1]__
__打印机	25针: 		/dev/lp[0-2]__
		__U盘: 		/dev/usb/lp[0-15]__
__鼠标	U盘: 		/dev/usb/mouse[0-15]__
		__PS2: 		/dev/psaux__
__当前CDROM/DVDROM	/dev/cdrom__
__当前的鼠标		/dev/mouse__
__磁带机	IDE: 		/dev/ht0__
		__SCSI: 		/dev/st0__
需要特别留意的是__硬盘机(不论是IDE/SCSI/U盘都一样)，每个磁碟机的磁盘分区(partition)不同时， 其磁碟档名还会改变呢__！下一小节我们会介绍磁盘分区的相关概念啦！需要特别注意的是磁带机的档名， 在某些不同的distribution当中可能会发现不一样的档名，需要稍微留意。 总之，你得先背一下IDE与SATA硬盘的档名就是了！其他的，用的到再来背吧！

Tips:
更多Linux核心支持的硬件装置与档名，可以参考如下网页：
http://www.kernel.org/pub/linux/docs/device-list/devices.txt
